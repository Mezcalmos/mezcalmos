query get_rental_by_category($category1: String, $distance: Float!, $from: geography!, $limit: Int, $offset: Int) {
  business_rental(where: {_and: {service: {category1: {_eq: $category1}}, business: {details: {location: {gps: {_st_d_within: {distance: $distance, from: $from}}}}}}}, limit: $limit, offset: $offset) {
    service {
      id
      name {
        translations {
          language_id
          value
        }
      }
      description {
        translations {
          language_id
          value
        }
      }
      additional_parameters
      available
      category1
      cost
      image
      position
    }
    id
    business {
      id
      details {
        id
        name
        location {
          gps
          address
        }
      }
    }
  }
}

query get_rental_by_id($id: Int!) {
  business_rental_by_pk(id: $id) {
    business_id
    service {
      additional_parameters
      available
      category1
      cost
      description {
        translations {
          language_id
          value
        }
      }
      id
      image
      name {
        translations {
          language_id
          value
        }
      }
      position
    }
  }
}

query get_home_rentals($distance: Float!, $from: geography!, $limit: Int, $offset: Int) {
  business_home_rental(where: {gps_location: {_st_d_within: {distance: $distance, from: $from}}}, limit: $limit, offset: $offset) {
    bathrooms
    bedrooms
    gps_location
    homeType
    rental {
      id
      service {
        id
        name {
          translations {
            language_id
            value
          }
        }
        description {
          translations {
            language_id
            value
          }
        }
        additional_parameters
        available
        category1
        cost
        image
        position
      }
      business {
        id
        details {
          id
          name
        }
      }
    }
  }
}

query get_home_rental_by_id($rental_id: Int!) {
  business_home_rental_by_pk(rental_id: $rental_id) {
    bathrooms
    bedrooms
    gps_location
    homeType
    rental {
      service {
        additional_parameters
        available
        category1
        cost
        description {
          translations {
            language_id
            value
          }
        }
        image
        id
        name {
          translations {
            language_id
            value
          }
        }
        position
      }
      business {
        id
        details {
          accepted_payments
          id
          name
          image
        }
        reviews_aggregate {
          aggregate {
            avg {
              rating
            }
            count
          }
        }
      }
    }
  }
}
