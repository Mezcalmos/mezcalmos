query get_rental_by_category($distance: Float!, $from: geography!, $limit: Int, $offset: Int, $category1: String, $categories2: [String!], $tags: [String!]) {
  business_rental(where: {_and: {details: {_and: {category1: {_eq: $category1}, category2: {_in: $categories2}, tags: {_has_keys_all: $tags}}}, business: {details: {location: {gps: {_st_d_within: {distance: $distance, from: $from}}}}}}}, limit: $limit, offset: $offset) {
    details {
      id
      name {
        translations {
          language_id
          value
        }
      }
      additional_parameters
      available
      category1
      category2
      cost
      image
      position
      tags
    }
    id
    category3
    business {
      id
      details {
        id
        name
        location {
          gps
          address
        }
      }
    }
    home_rental {
      bathrooms
      bedrooms
      gps_location
      home_type
    }
  }
}

query get_rental_by_id($id: Int!) {
  business_rental_by_pk(id: $id) {
    business {
      id
      details {
        id
        name
        image
        location {
          gps
          address
        }
        accepted_payments
      }
      reviews_aggregate {
        aggregate {
          avg {
            rating
          }
          count
        }
      }
    }
    details {
      additional_parameters
      available
      tags
      category1
      category2
      cost
      description {
        translations {
          language_id
          value
        }
      }
      id
      image
      name {
        translations {
          language_id
          value
        }
      }
      position
    }
    category3
    home_rental {
      bathrooms
      bedrooms
      gps_location
      home_type
    }
  }
}

query get_home_rentals($distance: Float!, $from: geography!, $limit: Int, $offset: Int) {
  business_home_rental(where: {gps_location: {_st_d_within: {distance: $distance, from: $from}}}, limit: $limit, offset: $offset) {
    bathrooms
    bedrooms
    gps_location
    home_type
    rental {
      id
      category3
      details {
        id
        name {
          translations {
            language_id
            value
          }
        }
        description {
          translations {
            language_id
            value
          }
        }
        tags
        additional_parameters
        available
        category1
        category2
        cost
        image
        position
      }
      business {
        id
        details {
          id
          name
        }
      }
    }
  }
}
