query GetInfluencerByUserId($userId: Int!) {
  service_provider_influencer(where: { user_id: { _eq: $userId } }) {
    id
    tag
    user_id
    user {
      id
      firebase_id
      image
      name
    }
  }
}
query GetInfOpenOffers {
  service_provider_offer(
    where: {
      influencer_details: { _is_null: false }
      status: { _eq: "active" }
    }
  ) {
    id
    name_id
    name {
      translations {
        value
        language_id
      }
    }
    service_provider_id
    coupon_code
    offer_type
    service_provider_type
    status
    influencer_details
    details
    restaurant {
      details {
        image
        id
        name
      }
    }
  }
}
query getInfOffers($inf_id: Int, $limit: Int, $offset: Int) {
  service_provider_influencer_offer(
    limit: $limit
    offset: $offset
    where: { influencer_id: { _eq: $inf_id } }
  ) {
    offer {
      id
      name_id
      name {
        translations {
          value
          language_id
        }
      }
      service_provider_id
      coupon_code
      offer_type
      service_provider_type
      status
      influencer_details
      details
      restaurant {
        details {
          image
          id
          name
        }
      }
    }
  }
}
mutation DeleteInfluencerOffer($influencer_id: Int!, $offer_id: Int!) {
  delete_service_provider_influencer_offer(
    where: {
      influencer_id: { _eq: $influencer_id }
      offer_id: { _eq: $offer_id }
    }
  ) {
    affected_rows
  }
}

mutation InsertInfluencerOffer($influencer_id: Int, $offer_id: Int) {
  insert_service_provider_influencer_offer(
    objects: { influencer_id: $influencer_id, offer_id: $offer_id }
  ) {
    affected_rows
    returning {
      id
      influencer_id
      offer_id
    }
  }
}
query getInfluencerTotalComissions($influencer_id: Int!) {
  service_provider_offer_applied_aggregate(
    where: { influencer_id: { _eq: $influencer_id } }
  ) {
    aggregate {
      sum {
        comission
      }
    }
  }
}
query getInfluencerTotalDiscounts($influencer_id: Int!) {
  service_provider_offer_applied_aggregate(
    where: { influencer_id: { _eq: $influencer_id } }
  ) {
    aggregate {
      sum {
        discount
      }
    }
  }
}
query getInfluencerEarnings($influencer_id: Int!) {
  service_provider_offer_applied(
    where: { influencer_id: { _eq: $influencer_id } }
  ) {
    comission
    discount
    id
    influencer_id
    loss
    offer_id
    order_id
    order_total
    order_type
    restaurant_order {
      restaurant {
        id
        details {
          image
          name
          phone_number
          location {
            gps
            address
          }
        }
      }
      customer {
        user {
          id
          phone
          image
          name
        }
      }
    }
  }
}
