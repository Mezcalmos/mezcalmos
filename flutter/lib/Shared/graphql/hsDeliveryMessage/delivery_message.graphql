query GetPastDeliveryMessages($driver_id: Int!, $limit: Int!, $offset: Int!) {
  delivery_messages(
    distinct_on: phone_number
    limit: $limit
    offset: $offset
    where: {
      driver_id: { _eq: $driver_id }
      finished_time: { _is_null: false }
    }
  ) {
    id
    entry
    phone_number
    driver_id
    received_time
    finished_time
    user_id
    responded_time
    customer {
      name
      image
    }
  }
}
query GetCurrentDeliveryMessages($driver_id: Int!) {
  delivery_messages(
    distinct_on: phone_number
    where: { driver_id: { _eq: $driver_id }, finished_time: { _is_null: true } }
  ) {
    id
    entry
    phone_number
    driver_id
    received_time
    finished_time
    user_id
    responded_time
    customer {
      name
      image
    }
  }
}
subscription listenCurrentDeliveryMessages($driver_id: Int!) {
  delivery_messages(
    distinct_on: phone_number
    where: { driver_id: { _eq: $driver_id }, finished_time: { _is_null: true } }
  ) {
    id
    entry
    phone_number
    driver_id
    received_time
    finished_time
    user_id
    responded_time
    customer {
      name
      image
    }
  }
}
query GetOpenDeliveryMessages {
  delivery_messages(
    distinct_on: phone_number
    where: { responded_time: { _is_null: true } }
  ) {
    id
    entry
    phone_number
    driver_id
    received_time
    finished_time
    user_id
    responded_time
    customer {
      name
      image
    }
  }
}
subscription ListenOpenDeliveryMessages {
  delivery_messages(
    distinct_on: phone_number
    where: { responded_time: { _is_null: true } }
  ) {
    id
    entry
    phone_number
    driver_id
    received_time
    finished_time
    user_id
    responded_time
    customer {
      name
      image
    }
  }
}
query GetCustomerDeliveryMessages($phone_number: String!) {
  delivery_messages(where: { phone_number: { _eq: $phone_number } }) {
    id
    entry
    phone_number
    driver_id
    received_time
    finished_time
    user_id
    responded_time
    customer {
      name
      image
    }
  }
}
subscription listenOnNewCustomerDeliveryMessages($phone_number: String!) {
  delivery_messages(where: { phone_number: { _eq: $phone_number } }) {
    id
    entry
    phone_number
    driver_id
    received_time
    finished_time
    user_id
    responded_time
    customer {
      name
      image
    }
  }
}
