query get_business_by_id($id: Int!) {
  business_business_by_pk(id: $id) {
    classes {
      id
      schedule_type
      service {
        additional_parameters
        available
        category1
        cost
        name {
          translations {
            language_id
            value
          }
        }
        image
        id
        position
      }
    }
    details {
      accepted_payments
      approved
      creation_time
      description {
        translations {
          language_id
          value
        }
      }
      id
      image
      language
      location {
        address
        gps
      }
      name
      open_status
      phone_number
      schedule
    }
    events {
      id
      schedule_type
      service {
        additional_parameters
        available
        category1
        cost
        image
        id
        name {
          translations {
            language_id
            value
          }
        }
        position
      }
    }
    id
    profile
    rentals {
      id
      service {
        additional_parameters
        available
        category1
        cost
        id
        image
        name {
          translations {
            language_id
            value
          }
        }
        position
      }
      home_rental {
        bathrooms
        bedrooms
        gps_location
        homeType
      }
    }
  }
}


query get_business_by_rental_category1($distance: Float!, $from: geography!, $category1: String, $offset: Int, $limit: Int) {
  business_business(where: {_and: {details: {location: {gps: {_st_d_within: {distance: $distance, from: $from}}}}, rentals: {service: {category1: {_eq: $category1}}}}}, offset: $offset, limit: $limit) {
    id
    details {
      id
      accepted_payments
      image
      name
    }
    reviews_aggregate {
      aggregate {
        avg {
          rating
        }
        count
      }
    }
  }
}

query get_business_by_class_category1($distance: Float!, $from: geography!, $category1: String, $offset: Int, $limit: Int) {
  business_business(where: {_and: {details: {location: {gps: {_st_d_within: {distance: $distance, from: $from}}}}, classes: {service: {category1: {_eq: $category1}}}}}, offset: $offset, limit: $limit) {
    id
    details {
      id
      accepted_payments
      image
      name
    }
    reviews_aggregate {
      aggregate {
        avg {
          rating
        }
        count
      }
    }
  }
}

query get_business_by_event_category1($distance: Float!, $from: geography!, $category1: String, $offset: Int, $limit: Int) {
  business_business(where: {_and: {details: {location: {gps: {_st_d_within: {distance: $distance, from: $from}}}}, events: {service: {category1: {_eq: $category1}}}}}, offset: $offset, limit: $limit) {
    id
    details {
      id
      accepted_payments
      image
      name
    }
    reviews_aggregate {
      aggregate {
        avg {
          rating
        }
        count
      }
    }
  }
}